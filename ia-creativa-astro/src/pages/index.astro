---
import Layout from '../layouts/Layout.astro';
import ArticleCard from '../components/ArticleCard.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
// Sort by date (newest first)
const sortedPosts = allPosts.sort((a, b) => {
    return new Date(b.data.pubDate || 0).valueOf() - new Date(a.data.pubDate || 0).valueOf();
});

const latestPosts = sortedPosts.slice(0, 6);
const guidePosts = sortedPosts.filter(post => post.data.isGuide).slice(0, 3);
---

<Layout title="IA Creativa â€“ Blog para Creadores Digitales">
	<section class="content-container mb-12">
		<div class="bg-white p-6 md:p-12 rounded-2xl shadow-lg border border-indigo-100">
			<div class="flex flex-col md:flex-row items-center">
				<div class="md:w-3/5">
					<h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold mb-4 leading-tight text-gray-900">
						Descubre las <span class="text-indigo-600">Mejores Herramientas de IA</span> para Creadores de Contenido
					</h1>
					<p class="text-xl text-gray-600 mb-8">
						GuÃ­as, comparativas y estrategias para ganar tiempo, dinero y creatividad con inteligencia artificial.
					</p>
					<a href="/blog" class="inline-block px-8 py-3 text-lg font-bold text-white bg-indigo-600 rounded-full shadow-lg hover:bg-indigo-700 transition duration-300">
						Explorar Herramientas â†’
					</a>
				</div>
				<div class="md:w-2/5 mt-8 md:mt-0 md:pl-8">
					<img src="/imagenes/Gemini_Generated_Image_u1rdj9u1rdj9u1rd.png" alt="IlustraciÃ³n de IA y creatividad digital" class="w-full h-auto rounded-xl shadow-2xl">
				</div>
			</div>
		</div>
	</section>

	<section class="content-container mb-16">
		<h2 class="text-3xl font-bold mb-8 text-gray-800 border-l-4 border-indigo-600 pl-4">Ãšltimos ArtÃ­culos Publicados</h2>
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
			{latestPosts.map(post => (
				<ArticleCard 
					title={post.data.title} 
					summary={post.data.description} 
					slug={post.slug} 
					image={post.data.heroImage}
					isGuide={post.data.isGuide}
				/>
			))}
		</div>
	</section>

	<section class="content-container mb-16">
		<div class="bg-indigo-50/50 p-6 rounded-xl border border-indigo-200 text-center">
			<p class="text-sm font-semibold text-indigo-600 mb-2">ğŸ”¥ ArtÃ­culo Popular</p>
			<a href="/blog/chatgpt-vs-gemini-vs-claude-comparativa-2025" class="text-2xl font-bold text-gray-800 hover:text-indigo-600 transition-colors">
				ChatGPT vs Gemini vs Claude 3: Comparativa Definitiva
			</a>
		</div>
	</section>

	<section class="content-container mb-16">
		<h2 class="text-3xl font-bold mb-8 text-gray-800 border-l-4 border-indigo-600 pl-4">GuÃ­as Esenciales para Creadores</h2>
		<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
			{guidePosts.map(post => (
				<ArticleCard 
					title={post.data.title} 
					summary={post.data.description} 
					slug={post.slug} 
					image={post.data.heroImage}
					isGuide={post.data.isGuide}
				/>
			))}
		</div>
	</section>

	<section class="content-container">
		<div class="bg-gray-800 text-white p-8 md:p-12 rounded-2xl text-center shadow-xl">
			<h3 class="text-3xl font-bold mb-3">Ãšnete a la Vanguardia de la IA</h3>
			<p class="text-xl mb-6 text-gray-300 max-w-2xl mx-auto">Recibe las Ãºltimas tendencias, herramientas secretas y estrategias de monetizaciÃ³n en IA para creadores.</p>
			<a href="/contact" class="inline-block px-8 py-3 text-lg font-bold text-gray-900 bg-white rounded-full shadow-lg hover:bg-gray-100 transition duration-300">
				SuscrÃ­bete Gratis Ahora â†’
			</a>
		</div>
	</section>
</Layout>
